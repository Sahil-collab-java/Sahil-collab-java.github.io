---
title: Elastic Search
date: 2025-12-18 
categories: [Elastic Search (ELK) , Elastic Search ]
tags: [elastic,elk,elastic search]
---
# **1. What is Elasticsearch?**

- A **distributed search and analytics engine**.
- Core component of the **ELK Stack**:
    - **E â†’ Elasticsearch (Database / Search Engine)**
    - **L â†’ Logstash (Pipeline / Data Processing)**
    - **K â†’ Kibana (UI / Visualization)**

---

# **2. Why Elasticsearch is Needed**

- For **observability**:
    - Monitoring apps, servers, networks, databases.
    - Detecting issues, failures, anomalies.
    - Centralizing logs and operational data.
- Faster search, distributed storage, real-time indexing.

---

# **3. ELK Flow Overview**

**Data sources** â†’ (*Beats / Logstash*) â†’ **Elasticsearch** â†’ **Kibana Dashboard**

Sources can be:

- Cloud apps
- On-prem servers
- Databases
- Network devices
- Security tools

**All data ultimately lands in Elasticsearch** â†’ Kibana visualizes it.

![image.png](assets\images\2025-12-18-Elasticsearch\image.png)

---

# **4. ELK vs Grafana**

- **Kibana** = official visualization component of Elastic.
- **Grafana** = external visualization platform (popular competitor).
- Grafana can also read data from Elasticsearch.

---

# **5. Downloading Elasticsearch**

### Steps:

1. Go to Google â†’ search **"Download Elasticsearch"**.
2. Use official link.
3. Recommended version practice:
    - **Never use the latest version in production.**
    - Use **N-1 version** (previous stable version).
4. To download older versions â†’ "View past releases".

---

# **6. File Organization**

Create a folder to store all ELK components:

```
D:\ELKSetup
```

Store:

- Elasticsearch
- Kibana
- Logstash
- Beats

---

# **7. Extracting Elasticsearch**

- Use **7-Zip** (not Windows default Extract All).
- Extract into your ELKSetup folder.

---

# **8. Elasticsearch Folder Structure**

## Inside Elasticsearch:

### ðŸ”¹ **bin/**

Contains executable scripts:

```elixir
elasticsearch â†’ Start Elasticsearch
elasticsearch-create-enrollment-token
elasticsearch-keystore
elasticsearch-setup-passwords
elasticsearch-reset-password
```

### ðŸ”¹ **config/**

Important configuration files:

- **elasticsearch.yml** â†’ Main configuration
- **jvm.options** â†’ JVM memory settings
- **certs folder** â†’ SSL certificates
- **roles/users** â†’ Security settings (RBAC)

### ðŸ”¹ **jdk/**

Bundled Java version (no need to install Java separately).

### ðŸ”¹ **logs/**

Stores Elasticsearch logs.

### ðŸ”¹ **data/**

Stores indexed documents (actual data).

---

# **9. Configuring elasticsearch.yml**

Most important settings:

---

### **1. Cluster Name**

```
cluster.name: batch6
```

- All nodes must share **same cluster name**.

---

### **2. Node Name**

```
node.name: elk1
```

- Each machine must have **unique node name**.

---

### **3. Data & Log Paths**

Create folders:

```
D:\ELKData
D:\ELKLogs
```

Update config:

```
path.data: D:/ELKData
path.logs: D:/ELKLogs
```

---

### **4. Network Host (IP)**

Local setup:

```
network.host: localhost
```

Production:

```
network.host: <server-ip>
```

---

### **5. HTTP Port**

```
http.port: 9200
```

Default: **9200**

---

### **6. SSL Security Settings**

Elasticsearch adds SSL settings automatically after first run:

```
xpack.security.enabled: true
xpack.security.http.ssl.enabled: true
```

Keep these unless setting up custom certificates.

---

# **10. Configuring jvm.options**

Elasticsearch is Java-based â†’ requires JVM heap memory.

Recommended:

- set heap = 50% of system memory
- **max 32GB** (JVM limit)

Example:

![image.png](assets\images\2025-12-18-Elasticsearch\image1.png)

---

# **11. Running Elasticsearch**

Steps:

1. Open CMD.
2. Navigate to bin folder:

```
cd D:\ELKSetup\elasticsearch\bin
```

1. Run:

```
.\elasticsearch``
```

Elasticsearch starts and prints logs.

---

# **12. First Run: Important Outputs**

Elasticsearch auto-creates:

- built-in user **elastic**
- auto-generated password

Example:

```
Username: elastic
Password: <auto-generated>
```

Save this password safely.

---

# **13. Accessing Elasticsearch**

Use browser:

### If SSL enabled:

```
https://localhost:9200
```

![image.png](assets\images\2025-12-18-Elasticsearch\image2.png)

### If SSL disabled:

```
http://localhost:9200
```

![image.png](assets\images\2025-12-18-Elasticsearch\image3.png)

Enter credentials.

You should see:

- cluster name
- node name
- version
- build info

---

# **14. Understanding Logs**

Locate logs:

```
D:\ELKLogs
```

Use logs to debug:

- misconfiguration
- file path errors
- incorrect indentation in .yml

Common error locations:

- line numbers shown in logs
- incorrect spacing
- wrong path format

---

# **15. Cluster Health Colors**

- **Green** â†’ All good
- **Yellow** â†’ Working but missing replicas
- **Red** â†’ Cluster failure

---

# **16. Practice Tasks**

âœ” Change cluster name

âœ” Change node name

âœ” Change port (9200 â†’ 9400)

âœ” Change logs path

âœ” Introduce error â†’ check logs

Understand how ES behaves after each change.

---

# **18. Extra Homework Suggested**

Ask ChatGPT:

1. What is Elasticsearch?
2. Why do we use Elasticsearch?
3. 10â€“15 business use cases for observability with Elasticsearch.
4. Explain **cluster** and **node** with diagrams.